# Policy-informed Priority for Photovoltaic Deployment on Abandoned Cropland

> **ç ”ç©¶è®ºæ–‡**: "Policy-informed priority for effectively releasing photovoltaic potential from abandoned cropland in the United States"

æœ¬é¡¹ç›®å¼€å‘äº†ä¸€ä¸ªç»¼åˆè¯„ä¼°æ¡†æ¶,æ•´åˆäº†ä¸¤é˜¶æ®µæœºå™¨å­¦ä¹ ä¸å¤šå‡†åˆ™å†³ç­–åˆ†æ(3Eæ¡†æ¶:ç¯å¢ƒé€‚å®œæ€§ã€å‡æ’æ½œåŠ›ã€ç»æµå¯è¡Œæ€§),ç”¨äºè¯„ä¼°ç¾å›½åºŸå¼ƒå†œç”°ä¸Šå…‰ä¼ç³»ç»Ÿéƒ¨ç½²çš„ä¼˜å…ˆçº§ã€‚

---

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

è¯¥ä»“åº“é€šè¿‡ä¸€ç³»åˆ— Jupyter Notebook å’Œ `function/` ä¸‹çš„ Python æ¨¡å—,å®ç°äº†ä»æ•°æ®é¢„å¤„ç†ã€æœºå™¨å­¦ä¹ å»ºæ¨¡ã€åˆ°å¤šå°ºåº¦æ”¿ç­–åˆ†æçš„å®Œæ•´ç ”ç©¶æµç¨‹ã€‚é¡¹ç›®é‡‡ç”¨ xarray/NetCDF è¿›è¡Œç©ºé—´æ•°æ®å¤„ç†,æ”¯æŒåœ¨ GCP ä¸Šæ‰¹é‡è¿è¡Œå®éªŒã€‚

### æ ¸å¿ƒç ”ç©¶é—®é¢˜

1. **ç¯å¢ƒé€‚å®œæ€§**: ç¾å›½åºŸå¼ƒå†œç”°æ˜¯å¦é€‚åˆå¤§è§„æ¨¡å…‰ä¼éƒ¨ç½²?
2. **å‡æ’æ½œåŠ›**: å…‰ä¼éƒ¨ç½²ç›¸æ¯”åœŸåœ°åŸºç¡€è‡ªç„¶æ°”å€™è§£å†³æ–¹æ¡ˆ(LNCS)çš„å‡æ’æ•ˆæœå¦‚ä½•?
3. **æ”¿ç­–ä¼˜å…ˆçº§**: å¦‚ä½•å°†ç†è®ºæ½œåŠ›è½¬åŒ–ä¸ºå¯æ“ä½œçš„æ”¿ç­–è¡ŒåŠ¨?

### ä¸»è¦å‘ç°

- ç¾å›½è¯†åˆ«å‡º **4.7 Mha** åºŸå¼ƒå†œç”°,çº¦ä¸ºç°æœ‰å…‰ä¼è®¾æ–½é¢ç§¯çš„ **20.9 å€**
- å¹³å‡ç¯å¢ƒé€‚å®œæ¦‚ç‡: **84.0 Â± 0.2%**
- 2020-2050å¹´æ½œåœ¨å‡æ’: **62.83 Â± 17.05 Gt COâ‚‚** (çº¦ä¸ºLNCSçš„16å€)
- ä»…éœ€ **10%** åºŸå¼ƒå†œç”°å³å¯æ»¡è¶³ç¾å›½2050å¹´ **30%** å¤ªé˜³èƒ½ç›®æ ‡
- 3EååŒæŒ‡æ•°ä½¿æ”¿ç­–æ•ˆç‡æå‡ **38.4%**

---

## ğŸ”¬ å®Œæ•´ç ”ç©¶Pipeline

### **é˜¶æ®µä¸€:æ•°æ®å‡†å¤‡ä¸ç©ºé—´å¯¹é½**

#### 1.1 æ•°æ®æºå‡†å¤‡
- **åºŸå¼ƒå†œç”°è¯†åˆ«** (`0.0 PV_dataset.ipynb`)
  - ESA-CCI åœŸåœ°è¦†ç›–æ•°æ® (1992-2022)
  - 5å¹´ç§»åŠ¨çª—å£æ£€æµ‹åºŸå¼ƒå†œç”°
  - è¾“å‡º: 4.7 Mha åºŸå¼ƒå†œç”°ç©ºé—´åˆ†å¸ƒ

- **å…‰ä¼ç«™ç‚¹æ•°æ®** (`2.1 process_csv_for_aligning.ipynb`)
  - OSM å’Œ CNN æ¨¡å‹è¯†åˆ«çš„å…¨çƒå…‰ä¼è®¾æ–½
  - ç¾å›½æœ¬åœŸå…‰ä¼æ­£æ ·æœ¬æå–
  - è¾“å‡º: æ­£æ ·æœ¬è®­ç»ƒé›†

#### 1.2 ç¯å¢ƒç‰¹å¾æå– (`2.2 process_csv_for_embedding.ipynb`)
**15ä¸ªç¯å¢ƒé¢„æµ‹å› å­**:

| ç±»åˆ« | ç‰¹å¾å˜é‡ |
|------|----------|
| **ç‰©ç†åœ°ç†** | åœŸåœ°è¦†ç›–ã€DEMã€å¡åº¦ã€åœ°ä¸Šç”Ÿç‰©é‡ |
| **æ°”å€™å› ç´ ** | è¿‘åœ°è¡¨æ°”æ¸©ã€é£é€Ÿã€çŸ­æ³¢è¾å°„ |
| **ç¤¾ä¼šç»æµ** | äººå£å¯†åº¦ã€GDPå¯†åº¦ã€åˆ°åŸé•‡è·ç¦»ã€åˆ°ç”µç½‘è·ç¦»ã€ä¸€äºŒä¸‰çº§é“è·¯å¯†åº¦ |

- æ•°æ®å¯¹é½åˆ° 1/120Â° (~1km) åˆ†è¾¨ç‡ç½‘æ ¼
- å·¥å…·: `align.py`, `raster_process.ipynb`

---

### **é˜¶æ®µäºŒ:ç¯å¢ƒé€‚å®œæ€§å»ºæ¨¡(ä¸¤é˜¶æ®µæœºå™¨å­¦ä¹ )**

**æ ¸å¿ƒNotebook**: `3.0 pre-training.ipynb`

#### 2.1 ç¬¬ä¸€é˜¶æ®µ:GMMç¯å¢ƒç»“æ„è¯†åˆ«

**ç›®æ ‡**: é‡åŒ–å…‰ä¼ç«™ç‚¹ä¸åºŸå¼ƒå†œç”°çš„ç¯å¢ƒç›¸ä¼¼æ€§

**æ–¹æ³•**: é«˜æ–¯æ··åˆæ¨¡å‹(GMM)
```python
# æ ¸å¿ƒæ¨¡å—: function/gmm_training.py
- BICå‡†åˆ™é€‰æ‹©æœ€ä¼˜ç»„ä»¶æ•°(23ä¸ªç»„ä»¶)
- åˆ†å±‚èšç±»è¯†åˆ«3ä¸ªä¸»è¦ç¯å¢ƒç±»å‹:
  * Cluster 1 (38.9%): åŸºç¡€è®¾æ–½æˆç†Ÿçš„ç¤¾ä¼šç»æµæ´»è·ƒåŒº
  * Cluster 2 (8.2%): è½åŸºå±±è„‰æ²¿çº¿ç”Ÿç‰©é‡ä¸°å¯Œå±±åŒº
  * Cluster 3 (52.9%): åœ°åŠ¿å¹³å¦ã€äººå£ç¨€ç–åŒº(ä¸»è¦åˆ†å¸ƒåœ¨ä¸­è¥¿éƒ¨)
```

**è¾“å‡º**:
- GMM pipelineæ¨¡å‹ (`gmm_model_23c_fixed.pkl`)
- æ¯ä¸ªåƒå…ƒçš„ç¯å¢ƒå¯¹æ•°å¯†åº¦å¾—åˆ†
- è´Ÿæ ·æœ¬å€™é€‰æ± (ä½å¯†åº¦åŒºåŸŸ)

#### 2.2 ç¬¬äºŒé˜¶æ®µ:Transformer-ResNetåˆ†ç±»å™¨

**æ¶æ„è®¾è®¡**:
```python
# æ ¸å¿ƒæ¨¡å—: function/model_building.py, function/pipeline.py

[Transformeråˆ†æ”¯]           [ResNetåˆ†æ”¯]
     â†“                           â†“
Multi-Head Attention      Residual Connections
     â†“                           â†“
Global Average Pooling    Batch Normalization
     â†“                           â†“
     â””â”€â”€â”€â”€â”€â”€â”€â†’ Fusion â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
          Sigmoid Output
```

**è®­ç»ƒç­–ç•¥**:
- è´Ÿæ ·æœ¬ç”Ÿæˆ: ä»GMMä½å¯†åº¦åŒºåŸŸ(5thç™¾åˆ†ä½)é‡‡æ ·
- æ­£è´Ÿæ¯”ä¾‹: 1:1
- è®­ç»ƒé›†/éªŒè¯é›†/æµ‹è¯•é›†: 0.6/0.2/0.2
- æ€§èƒ½: Accuracy=0.89, F1=0.90 (ä¼˜äºMLPåŸºå‡†çš„F1=0.87)

**è¾“å‡º**: 
- æ¯ä¸ªåºŸå¼ƒå†œç”°åƒå…ƒçš„å…‰ä¼éƒ¨ç½²æ¦‚ç‡ (0-1)
- æ¨¡å‹è¯Šæ–­æŠ¥å‘Š(å­¦ä¹ æ›²çº¿ã€SHAPç‰¹å¾é‡è¦æ€§)

**è¾…åŠ©å·¥å…·**:
- `0.0 Check_PV.ipynb`: PVæ•°æ®è´¨é‡æ£€æŸ¥
- `Process.ipynb`: è®­ç»ƒç»“æœåå¤„ç†

---

### **é˜¶æ®µä¸‰:ç¢³å‡æ’æ½œåŠ›è¯„ä¼°**

**æ ¸å¿ƒNotebook**: `4.1 Emission_reduction_potential.ipynb`

#### 3.1 å…‰ä¼å‡æ’æ½œåŠ›è®¡ç®—

**è®¡ç®—æµç¨‹**:
```
å¤ªé˜³è¾å°„ â†’ å®é™…å‘ç”µé‡ â†’ ç”µç½‘æ›¿ä»£ â†’ COâ‚‚å‡æ’
(CHELSA)   (è€ƒè™‘æ¸©åº¦)   (IFIæ•°æ®é›†)  (IEAæƒ…æ™¯)
```

**æ ¸å¿ƒå…¬å¼**:
- å…‰ä¼å‘ç”µæ½œåŠ›: PV_POT = P_R Ã— (I/I_STC)
- æ¸©åº¦ä¿®æ­£: P_R = 1 + Î³ Ã— (T_cell - T_STC)
- ç¢³å‡æ’: PV_carbon = PV_generation Ã— EF_CM Ã— Î·_sys

**å‚æ•°è®¾ç½®**:
- è£…æœºå®¹é‡å¯†åº¦: 0.17 kW/mÂ²
- ç³»ç»Ÿæ•ˆç‡: 0.8
- å¹´è¿è¡Œå°æ—¶: 8760h
- ç”Ÿå‘½å‘¨æœŸ: 30å¹´ (2020-2050)

#### 3.2 LNCSç¢³æ±‡æ½œåŠ›è¯„ä¼°

**ä¸‰ç§LNCSç­–ç•¥**:
1. **é€ æ— (Afforestation)**: AGB + BGB + SOC + æ¯æè½å¶
2. **å†œä¸š (Agriculture)**: å¤šå¹´ç”Ÿ/ä¸€å¹´ç”Ÿä½œç‰©,ä¸»è¦SOCå˜åŒ–
3. **éæœ¨æœ¬æ¤è¢« (Non-woody Vegetation)**: BGB + SOCæ½œåŠ›

**æ¦‚ç‡åˆ†é…æ–¹æ³•**:
- 10Ã—10ç½‘æ ¼èšåˆå†å²åœŸåœ°åˆ©ç”¨åå¥½
- K-dæ ‘ + é€†è·ç¦»åŠ æƒ(IDW)
- è¾“å‡º: æ¯ä¸ªåƒå…ƒçš„LNCSå®æ–½æ¦‚ç‡å‘é‡

**è¾“å‡º**:
- å…‰ä¼: 62.83 Â± 17.05 Gt COâ‚‚ (2020-2050)
- LNCS: 3.91 Gt COâ‚‚
- **å‡€å‡æ’**: 58.92 Â± 17.05 Gt COâ‚‚ (å 1.5Â°Cç¢³é¢„ç®—çš„23.5%)

---

### **é˜¶æ®µå››:ç»æµå¯è¡Œæ€§åˆ†æ**

**æ ¸å¿ƒNotebook**: `5.1 Economical_feasibility.ipynb`

#### 4.1 å…‰ä¼ç»æµè¯„ä¼°

**æ•°æ®æ¥æº**: IPCC AR6 æƒ…æ™¯æ•°æ®åº“

**æ”¿ç­–æƒ…æ™¯çŸ©é˜µ** (11ä¸ªæƒ…æ™¯):
- **P1**: æ— å…¨çƒåè°ƒæ”¿ç­–
- **P2**: ç«‹å³è¡ŒåŠ¨çš„å…¨çƒåè°ƒæ”¿ç­– (P2a, P2b, P2c)
- **P3**: å»¶è¿Ÿè¡ŒåŠ¨çš„å…¨çƒåè°ƒæ”¿ç­– (P3a, P3b, P3c)

**NPVè®¡ç®—**:
```
NPV = Î£(å‘ç”µæ”¶å…¥ - è¿è¥æˆæœ¬ - ä¸€æ¬¡æ€§æŠ•èµ„) - LNCSæœºä¼šæˆæœ¬
```

**ç»æµå‚æ•°**:
- è´´ç°ç‡: 5%
- æ—¶é—´è·¨åº¦: 2020-2050 (10å¹´é—´éš”)
- ä»·æ ¼æ ‡å‡†: 2020å¹´ç¾å…ƒä¸å˜ä»·

#### 4.2 LNCSæœºä¼šæˆæœ¬

**é€ æ—**:
- ä¸€æ¬¡æ€§æ”¶è·AGBè½¬æœ¨æäº§å“
- äº§å“åˆ†é…: ç”Ÿç‰©èƒ½æºã€çº¸æµ†ã€å®æœ¨
- å®æ–½æˆæœ¬: æœ¬åœŸ/å¤–æ¥æ ‘ç§ç§æ¤

**å†œä¸š**:
- FAOä»·æ ¼é¢„æµ‹ (184ç§ä½œç‰©åˆ°2050)
- GAEZ-V4äº§é‡æ•°æ®
- è¾¹é™…åˆ©æ¶¦: 20% (åŸºäºç¾å›½å†œåœºè´¢åŠ¡)

**éæœ¨æœ¬æ¤è¢«**:
- ä¸»è¦ä¸ºå®æ–½æˆæœ¬(è‡ªç„¶å†ç”Ÿ)
- æ— ç›´æ¥ç»æµå›æŠ¥å‡è®¾

**è¾“å‡º**:
- å¹³å‡ç»æµå‡€æ”¶ç›Š: -1,266 åˆ° +1,664 k USD/ha (è·¨æƒ…æ™¯)
- ä»…14ä¸ªå·å®ç°æ­£å‡€æ”¶ç›Š
- æœ€ä½ååˆ†ä½: -116.62 billion USD
- æœ€é«˜ååˆ†ä½: +298.18 billion USD

---

### **é˜¶æ®µäº”:3EååŒåˆ†æä¸ä¼˜å…ˆçº§æ’åº**

**æ ¸å¿ƒNotebook**: `6.4 3E_synergy_index.ipynb`

#### 5.1 3E-Synergy Indexè®¡ç®—

**ç†è®ºåŸºç¡€**: åŠ æƒè€¦åˆåè°ƒåº¦(WCCD)

**æ ¸å¿ƒæŒ‡æ ‡**:

| ç»´åº¦ | æŒ‡æ ‡ | æ•°æ®æº |
|------|------|--------|
| **Environment** (ç¯å¢ƒ) | éƒ¨ç½²æ¦‚ç‡ | Transformer-ResNetè¾“å‡º |
| **Emission** (å‡æ’) | å‡€å‡æ’èƒ½åŠ› (t COâ‚‚/ha) | å…‰ä¼å‡æ’ - LNCSæœºä¼š |
| **Economic** (ç»æµ) | å¹³å‡NPV (k USD/ha) | AR6å¤šæƒ…æ™¯å‡å€¼ |

**å…¬å¼**:
```
è€¦åˆåº¦ C = (âˆU_i / (â…“âˆ‘U_i)Â³)^(1/3)
åè°ƒåº¦ T = Î£w_i Ã— U_i
3E-synergy = âˆš(C Ã— T)

çº¦æŸæ¡ä»¶: Î£w_i = 1, w_i â‰¥ 0
```

**è‡ªé€‚åº”æƒé‡**: ä½¿ç”¨SLSQPä¼˜åŒ–ç®—æ³•,ä¸ºæ¯ä¸ªåƒå…ƒå¯»æ‰¾æœ€ä¼˜æƒé‡ç»„åˆ,æœ€å¤§åŒ–ååŒæ•ˆåº”

#### 5.2 å¯è§†åŒ–ä¸ç»“æœå±•ç¤º

**ç»˜å›¾æ¨¡å—**:
- `6.5 Figure2_priority_total.ipynb`: ä¼˜å…ˆçº§åœ°å›¾
- `6.6 Figure1_Enviromental_plot.ipynb`: ç¯å¢ƒé€‚å®œæ€§å›¾
- `6.7 Figure2_Policy_matrix.ipynb`: æ”¿ç­–çŸ©é˜µå›¾  
- `6.8 Figure3_Carbon_LNCS.ipynb`: ç¢³å‡æ’å¯¹æ¯”å›¾
- `6.9 Figure4_Cumulative_pirority.ipynb`: ç´¯ç§¯æ”¶ç›Šæ›²çº¿

#### 5.3 æ”¿ç­–ä¼˜å…ˆçº§æ’åºé€»è¾‘

**ä¼˜å…ˆçº§æ’åº**:
```python
# æ ¸å¿ƒé€»è¾‘
E_k(Ï€) = âˆ«â‚€Â¹ g_k(Ï€(u)) Ã— w(u) du

å…¶ä¸­:
- Ï€: ä¼˜å…ˆçº§åºåˆ—
- g_k: ç¬¬kä¸ªç›®æ ‡çš„è¾¹é™…æ”¶ç›Š
- w(u): åˆ†ä½æ•°æ³¨æ„åŠ›æ ¸(efficiency/equity/robustness)
```

**å†³ç­–ç­–ç•¥å¯¹æ¯”**:
1. **å•ä¸€å‡†åˆ™**: ç¯å¢ƒæœ€ä¼˜ / å‡æ’æœ€ä¼˜ / ç»æµæœ€ä¼˜
2. **3E-synergy**: å¤šç›®æ ‡ååŒä¼˜åŒ–

**æ€§èƒ½æå‡**:
- ç¯å¢ƒé€‚å®œæ€§: +6.9%
- å‡æ’èƒ½åŠ›: +2.8%
- ç»æµå¯è¡Œæ€§: +629%
- **ç»¼åˆæ•ˆç‡**: +38.4% (48ä¸ªå·å¹³å‡)

**è¾“å‡º**:
- å·çº§ä¼˜å…ˆçº§åœ°å›¾
- ç´¯ç§¯æ”¶ç›Šæ›²çº¿(ç¯å¢ƒ/å‡æ’/ç»æµ)
- èƒ½æºéœ€æ±‚æ»¡è¶³è¯„ä¼°(33ä¸ªå·å¯100%æ»¡è¶³)

---

### **é˜¶æ®µå…­:å¤šå°ºåº¦æ”¿ç­–åˆ†æä¸æ•æ„Ÿæ€§æ£€éªŒ**

#### 6.1 æ¢ç´¢æ€§æ•°æ®åˆ†æ (`6.1 EDA_data.ipynb`)
- æ•°æ®åˆ†å¸ƒç‰¹å¾
- ç›¸å…³æ€§åˆ†æ
- å¼‚å¸¸å€¼æ£€æµ‹

#### 6.2 å›½å®¶å±‚é¢åˆ†æ (`7.0 Analysis_Nation_level.ipynb`)

**å…³é”®å‘ç°**:
- ä»…10%é«˜ä¼˜å…ˆçº§åºŸå¼ƒå†œç”°å³å¯å®ç°2050å¹´ç›®æ ‡
- å•ä¸€å‡†åˆ™éƒ¨ç½²çš„ç´¯ç§¯ç¼ºå£:
  * ç¯å¢ƒ: -36.6%
  * å‡æ’: -27.6%
  * ç»æµ: -107 to +714 billion USD

#### 6.3 å·å±‚é¢åˆ†æ (`7.1 Analysis_State_level.ipynb`)

**æ¡ˆä¾‹å·å¯¹æ¯”**:

| å· | åºŸå¼ƒåœ°(kha) | è£…æœº(GW) | ç¯å¢ƒ | å‡æ’(t/ha) | ç»æµ(kUSD/ha) | 3Eæå‡(%) |
|----|------------|---------|------|-----------|-------------|-----------|
| Texas | 515.96 | 877.14 | 0.72 | 3689 | +996 | +49.75 |
| California | 272.49 | 463.23 | 0.74 | 4168 | +1664 | +36.39 |
| Indiana | 223.56 | 380.06 | 0.95 | 3086 | -441 | +4.23 |

**é©±åŠ¨å› å­åˆ†æ** (Mundlak Bayesianå›å½’):
- **å·é™…å±‚é¢**: ç»æµè§„æ¨¡æ­£ç›¸å…³,äººå£è´Ÿç›¸å…³
- **å·å†…å±‚é¢**: è¿œç¦»åŸå¸‚/åŸºç¡€è®¾æ–½çš„åŒºåŸŸæ›´ä¼˜
- **å”¯ä¸€ç¨³å¥å› å­**: å¤ªé˜³è¾å°„(å·é™…+å·å†…å‡æ˜¾è‘—)

#### 6.4 å¤šç›®æ ‡ä¼˜åŒ– (`8.0 Multi-objective.ipynb`)
- Paretoå‰æ²¿åˆ†æ
- æƒé‡æ•æ„Ÿæ€§

#### 6.5 èƒ½æºéœ€æ±‚è°ƒæ•´ (`9.0 Energy_demand_adjust.ipynb`)
- æœªæ¥æƒ…æ™¯ä¸‹çš„èƒ½æºéœ€æ±‚
- å·çº§éœ€æ±‚æ»¡è¶³åº¦è¯„ä¼°

#### 6.6 é™„å½•åˆ†æ (`7.3 Appendix_figure.ipynb`)
- è¡¥å……å›¾è¡¨
- è¾…åŠ©åˆ†æç»“æœ

#### 6.7 æ•æ„Ÿæ€§åˆ†æ (`Supplymentary/`)
- `S3_Sentivity_anlysis.ipynb`: å‚æ•°æ•æ„Ÿæ€§æµ‹è¯•
- `S6_Statistic_inference.ipynb`: è´å¶æ–¯ç»Ÿè®¡æ¨æ–­

---

## ğŸ“Š æ•°æ®ä¸è¾“å‡º

### æ ¸å¿ƒè¾“å‡ºæ–‡ä»¶
```
data/
â”œâ”€â”€ abandonment/              # åºŸå¼ƒå†œç”°è¯†åˆ«ç»“æœ
â”œâ”€â”€ aligned2/
â”‚   â”œâ”€â”€ Feature_all/          # 15ä¸ªç¯å¢ƒç‰¹å¾(NetCDF)
â”‚   â”œâ”€â”€ economic_cost/        # AR6ç»æµæ•°æ®
â”‚   â””â”€â”€ carbon/               # ç¢³æ±‡/å‡æ’æ•°æ®
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ gmm_model_*.pkl       # GMMæ¨¡å‹
â”‚   â””â”€â”€ transformer_*.h5      # Transformer-ResNetæ¨¡å‹
â””â”€â”€ results/
    â”œâ”€â”€ prediction_results/   # åƒå…ƒçº§é¢„æµ‹æ¦‚ç‡
    â”œâ”€â”€ 3E_synergy/          # ååŒæŒ‡æ•°
    â””â”€â”€ state_analysis/      # å·çº§æ±‡æ€»
```

### å¯è§†åŒ–è¾“å‡º
```
figure/
â”œâ”€â”€ Figure1_*.pdf            # ç¯å¢ƒé€‚å®œæ€§
â”œâ”€â”€ Figure2_*.pdf            # æ”¿ç­–ä¼˜å…ˆçº§
â”œâ”€â”€ Figure3_*.pdf            # ç¢³å‡æ’å¯¹æ¯”
â”œâ”€â”€ Figure4_*.pdf            # ç´¯ç§¯æ”¶ç›Šæ›²çº¿
â””â”€â”€ Supplymentary/           # è¡¥å……ææ–™å›¾è¡¨
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆä¸ä¾èµ–

### ç¯å¢ƒé…ç½®

#### æ–¹æ¡ˆ1:åœ°ç†ç©ºé—´åˆ†æç¯å¢ƒ(æ¨è)
```bash
conda env create -f geo.yml
conda activate geo
```

**ä¸»è¦åŒ…å«**:
- `xarray`, `dask`, `netCDF4`: å¤šç»´æ•°ç»„ä¸å¹¶è¡Œè®¡ç®—
- `geopandas`, `rasterio`, `gdal`: åœ°ç†ç©ºé—´æ•°æ®å¤„ç†
- `scikit-learn`, `tensorflow`: æœºå™¨å­¦ä¹ æ¡†æ¶
- `matplotlib`, `seaborn`, `plotly`: å¯è§†åŒ–

#### æ–¹æ¡ˆ2:GPUåŠ é€Ÿç¯å¢ƒ(è´å¶æ–¯æ¨æ–­)
```bash
# åœ¨WSLä¸­
source ~/bayes-gpu/bin/activate
jupyter notebook --no-browser --port=8888
```

è¯¦è§: `docs/HOW_TO_USE_BAYES_GPU_KERNEL.md`

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

| æ¨¡å— | åŠŸèƒ½ |
|------|------|
| `function/pipeline.py` | å®Œæ•´è®­ç»ƒç®¡é“(GMMâ†’è´Ÿé‡‡æ ·â†’æ¨¡å‹è®­ç»ƒâ†’é¢„æµ‹) |
| `function/gmm_training.py` | GMMæ¨¡å‹é€‰æ‹©ä¸è®­ç»ƒ |
| `function/model_building.py` | Transformer-ResNet/MLP/RFæ¨¡å‹æ„å»º |
| `function/negative_sampling.py` | åˆ†å±‚è´Ÿæ ·æœ¬ç”Ÿæˆç­–ç•¥ |
| `function/training.py` | æ¨¡å‹è®­ç»ƒä¸è¯„ä¼° |
| `function/load_ds.py` | NetCDFæ•°æ®åŠ è½½ä¸å¯¹é½ |
| `function/data_utils.py` | æ•°æ®é¢„å¤„ç†å·¥å…· |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®Œæ•´æµç¨‹æ‰§è¡Œé¡ºåº

#### Step 1: æ•°æ®å‡†å¤‡
```bash
# 1.1 ä¸‹è½½åŸå§‹æ•°æ®(æŒ‰é¡¹ç›®æ–‡æ¡£å‡†å¤‡æ•°æ®è·¯å¾„)
jupyter notebook "0.0 PV_dataset.ipynb"

# 1.2 æ•°æ®å¯¹é½ä¸ç‰¹å¾æå–
jupyter notebook "2.1 process_csv_for_aligning.ipynb"
jupyter notebook "2.2 process_csv_for_embedding.ipynb"
jupyter notebook "2.3 process_csv_for_prediction.ipynb"
```

#### Step 2: ç¯å¢ƒé€‚å®œæ€§å»ºæ¨¡
```bash
# 2.1 å®Œæ•´è®­ç»ƒæµç¨‹(GMM + Transformer-ResNet)
jupyter notebook "3.0 pre-training.ipynb"

# 2.2 æ•°æ®è´¨é‡æ£€æŸ¥(å¯é€‰)
jupyter notebook "0.0 Check_PV.ipynb"

# 2.3 åå¤„ç†ä¸ç»“æœæ±‡æ€»(å¯é€‰)
jupyter notebook "Process.ipynb"
```

#### Step 3: å‡æ’ä¸ç»æµè¯„ä¼°
```bash
# 3.1 ç¢³å‡æ’æ½œåŠ›è®¡ç®—
jupyter notebook "4.1 Emission_reduction_potential.ipynb"

# 3.2 ç»æµå¯è¡Œæ€§åˆ†æ
jupyter notebook "5.1 Economical_feasibility.ipynb"
```

#### Step 4: 3EååŒåˆ†æ
```bash
# 4.1 è®¡ç®—3E-SynergyæŒ‡æ•°
jupyter notebook "6.4 3E_synergy_index.ipynb"

# 4.2 æ¢ç´¢æ€§æ•°æ®åˆ†æ(å¯é€‰)
jupyter notebook "6.1 EDA_data.ipynb"
```

#### Step 5: å¯è§†åŒ–ä¸ç»˜å›¾
```bash
# 5.1 ä¸»è¦å›¾è¡¨ç”Ÿæˆ
jupyter notebook "6.6 Figure1_Enviromental_plot.ipynb"    # Figure 1
jupyter notebook "6.7 Figure2_Policy_matrix.ipynb"        # Figure 2
jupyter notebook "6.8 Figure3_Carbon_LNCS.ipynb"          # Figure 3  
jupyter notebook "6.9 Figure4_Cumulative_pirority.ipynb"  # Figure 4
jupyter notebook "6.5 Figure2_priority_total.ipynb"       # ä¼˜å…ˆçº§åœ°å›¾
```

#### Step 6: å¤šå°ºåº¦åˆ†æ
```bash
# 6.1 å›½å®¶ä¸å·å±‚é¢åˆ†æ
jupyter notebook "7.0 Analysis_Nation_level.ipynb"
jupyter notebook "7.1 Analysis_State_level.ipynb"

# 6.2 å¤šç›®æ ‡ä¸æƒ…æ™¯åˆ†æ
jupyter notebook "8.0 Multi-objective.ipynb"
jupyter notebook "9.0 Energy_demand_adjust.ipynb"

# 6.3 é™„å½•å›¾è¡¨
jupyter notebook "7.3 Appendix_figure.ipynb"
```

---

## ğŸ“š æ ¸å¿ƒNotebookè¯¦è§£

### æ•°æ®é¢„å¤„ç†å±‚
| Notebook | è¾“å…¥ | è¾“å‡º | åŠŸèƒ½ |
|----------|------|------|------|
| `0.0 PV_dataset.ipynb` | åŸå§‹PVç«™ç‚¹æ•°æ® | æ¸…æ´—åçš„æ­£æ ·æœ¬CSV | å…‰ä¼æ•°æ®è´¨é‡æ§åˆ¶ |
| `2.1 process_csv_for_aligning.ipynb` | CSV + NetCDF | å¯¹é½åçš„æ•°æ®é›† | ç©ºé—´ç½‘æ ¼å¯¹é½ |
| `2.2 process_csv_for_embedding.ipynb` | å¯¹é½æ•°æ® | ç‰¹å¾çŸ©é˜µ | 15ç»´ç‰¹å¾æå– |
| `2.3 process_csv_for_prediction.ipynb` | ç‰¹å¾æ•°æ® | é¢„æµ‹ç”¨æ•°æ®é›† | é¢„æµ‹æ•°æ®å‡†å¤‡ |
| `raster_process.ipynb` | çŸ¢é‡/æ …æ ¼ | è·ç¦»æ …æ ¼ | ç©ºé—´åˆ†æå·¥å…· |

### æ ¸å¿ƒè®¡ç®—å±‚
| Notebook | æ ¸å¿ƒæ–¹æ³• | è¾“å‡º |
|----------|---------|------|
| `3.0 pre-training.ipynb` | GMM + Transformer-ResNet | ç¯å¢ƒé€‚å®œæ€§æ¦‚ç‡ |
| `4.1 Emission_reduction_potential.ipynb` | PV vs LNCSç¢³å‡æ’ | å‡€å‡æ’æ½œåŠ› |
| `5.1 Economical_feasibility.ipynb` | NPVè®¡ç®—(å¤šæƒ…æ™¯) | ç»æµå¯è¡Œæ€§ |
| `6.4 3E_synergy_index.ipynb` | WCCDä¼˜åŒ– | 3EååŒæŒ‡æ•° |

### å¯è§†åŒ–å±‚
| Notebook | å›¾è¡¨ç±»å‹ | å¯¹åº”è®ºæ–‡å›¾ |
|----------|---------|-----------|
| `6.6 Figure1_Enviromental_plot.ipynb` | ç¯å¢ƒé€‚å®œæ€§ç©ºé—´åˆ†å¸ƒ | Figure 1 |
| `6.7 Figure2_Policy_matrix.ipynb` | æ”¿ç­–æƒ…æ™¯çŸ©é˜µ | Figure 2 |
| `6.8 Figure3_Carbon_LNCS.ipynb` | ç¢³å‡æ’å¯¹æ¯” | Figure 3 |
| `6.9 Figure4_Cumulative_pirority.ipynb` | ç´¯ç§¯æ”¶ç›Šæ›²çº¿ | Figure 4 |
| `6.5 Figure2_priority_total.ipynb` | ä¼˜å…ˆçº§åœ°å›¾ | Figure 2 |

### åˆ†æå±‚
| Notebook | åˆ†æå†…å®¹ | å…³é”®äº§å‡º |
|----------|---------|---------|
| `6.1 EDA_data.ipynb` | æ¢ç´¢æ€§æ•°æ®åˆ†æ | æ•°æ®åˆ†å¸ƒç‰¹å¾ |
| `7.0 Analysis_Nation_level.ipynb` | å›½å®¶å°ºåº¦ | å›½å®¶å±‚çº§ç»“è®º |
| `7.1 Analysis_State_level.ipynb` | å·çº§è¯Šæ–­ | 48å·å¯¹æ¯”åˆ†æ |
| `8.0 Multi-objective.ipynb` | å¤šç›®æ ‡ä¼˜åŒ– | Paretoå‰æ²¿ |
| `9.0 Energy_demand_adjust.ipynb` | èƒ½æºéœ€æ±‚ | éœ€æ±‚æ»¡è¶³åº¦ |

### è¾…åŠ©å·¥å…·
| Notebook | åŠŸèƒ½ |
|----------|------|
| `0.0 Check_PV.ipynb` | PVæ•°æ®æ£€æŸ¥(åŸTrain.ipynb) |
| `Process.ipynb` | è®­ç»ƒç»“æœåå¤„ç† |

---

## â˜ï¸ äº‘ç«¯è®¡ç®—(GCP)

### æ‰¹é‡å®éªŒæäº¤
```bash
cd cloud/gcp

# 1. æ„å»ºDockeré•œåƒ
gcloud builds submit --config cloudbuild.yaml

# 2. æäº¤å‚æ•°ç½‘æ ¼æœç´¢
python submit_jobs.py --config experiments.yaml

# 3. ç›‘æ§ä½œä¸š
python monitor_jobs.py

# 4. æ±‡æ€»ç»“æœ
python aggregate_results.py
```

è¯¦è§: `cloud/gcp/QUICK_START.md`

---

## ğŸ“– æ–‡æ¡£è¯´æ˜

| æ–‡æ¡£ | å†…å®¹ |
|------|------|
| `docs/README.md` | æ•´ä½“æ–‡æ¡£ç´¢å¼• |
| `docs/GPU_BAYESIAN_SETUP_SUMMARY.md` | GPUç¯å¢ƒé…ç½® |
| `docs/HOW_TO_USE_BAYES_GPU_KERNEL.md` | è´å¶æ–¯æ¨æ–­æ•™ç¨‹ |
| `docs/REGRESSION_ANALYSIS_COMPREHENSIVE_GUIDE.md` | å›å½’åˆ†ææŒ‡å— |
| `docs/SAVE_MODEL_PARAMS.md` | æ¨¡å‹ä¿å­˜è§„èŒƒ |

---

## âš™ï¸ å¸¸è§é—®é¢˜

### 1. è·¯å¾„é…ç½®
é¡¹ç›®åŒ…å«å¤§é‡æœ¬åœ°è·¯å¾„,è¿è¡Œå‰éœ€ä¿®æ”¹:
```python
# åœ¨å„Notebookä¸­æŸ¥æ‰¾å¹¶ä¿®æ”¹ç±»ä¼¼è·¯å¾„
PATHS = {
    'abandonment': r"D:\xarray\merged_chunk_2\*.nc",
    'feature': "D:/xarray/aligned2/Feature_all/*.nc",
    # ... ä¿®æ”¹ä¸ºä½ çš„æ•°æ®è·¯å¾„
}
```

### 2. å†…å­˜ä¸è¶³
å¤„ç†å¤§å‹NetCDFæ–‡ä»¶æ—¶:
```python
import dask
dask.config.set({'array.chunk-size': '128MB'})
```

### 3. TensorFlowå¯¼å…¥é”™è¯¯
```bash
# å¦‚é‡é€’å½’é”™è¯¯,å°è¯•:
import sys
sys.setrecursionlimit(3000)
import tensorflow as tf
```

---

## ğŸ“„ å¼•ç”¨

å¦‚æœä½¿ç”¨æœ¬ä»£ç ,è¯·å¼•ç”¨:

```bibtex
@article{zhong2026policy,
  title={Policy-informed priority for effectively releasing photovoltaic potential from abandoned cropland in the United States},
  author={Zhong, Pengyu and Yue, Wenze and Chen, Yang and Wang, Tianyu and Meng, Sisi},
  journal={[Journal Name]},
  year={2026}
}
```

---

## ğŸ“§ è”ç³»æ–¹å¼

- ä¸»è¦ä½œè€…: Pengyu Zhong
- æœºæ„: Zhejiang University / University of Notre Dame

---

## ğŸ“ è®¸å¯è¯

è¯¦è§ `LICENSE` æ–‡ä»¶

---

## ğŸ”„ æ›´æ–°æ—¥å¿—

- **2025-01**: å®Œæ•´pipelineä»£ç å‘å¸ƒ
- **2024-08**: åˆå§‹ç‰ˆæœ¬å¤‡ä»½ (`_backup_originals_20250809_214011/`)

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä¸ºå­¦æœ¯ç ”ç©¶ä»£ç ,éƒ¨åˆ†ç¡¬ç¼–ç è·¯å¾„å’Œå‚æ•°éœ€æ ¹æ®å®é™…æ•°æ®æƒ…å†µè°ƒæ•´ã€‚å»ºè®®é¦–æ¬¡è¿è¡Œæ—¶ä½¿ç”¨å°æ ·æœ¬æµ‹è¯•é›†éªŒè¯æµç¨‹ã€‚
